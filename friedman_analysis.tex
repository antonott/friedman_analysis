\documentclass{report}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{mathrsfs}
\usepackage{enumitem}
\usepackage{array}

\newcommand{\bb}[1]{\mathbb{#1}}
\newcommand{\norm}[1]{\lVert #1 \rVert}
\newcommand{\brac}[1]{\langle #1 \rangle}

\let\sc\relax
\newcommand{\sc}[1]{\mathscr{#1}}

\let\cal\relax
\newcommand{\cal}[1]{\mathcal{#1}}

\theoremstyle{remark}
\newtheorem*{solution}{Solution}

% \setenumerate{listparindent=\parindent, parsep=0pt}

\title{Notes for \textit{Foundations of Modern Analysis} by Avner Friedman}
\author{Anton Ottosson -- antonott@kth.se}
\date{\today}

\begin{document}

\maketitle

\chapter*{Chapter 1 -- Measure Theory}

\section*{Section 1.1 -- Rings and algebras}

\subsection*{Problems}

\subsubsection*{1.1.1}
\begin{equation*}
  \left( \varliminf_n E_n \right)^c = \varlimsup_n E_n^c, \quad \left( \varlimsup_n E_n \right)^c = \varliminf_n E_n^c.
\end{equation*}

\begin{solution}
  Note that
  \begin{equation*}
    \begin{split}
      x \in \varliminf_n E_n &\iff \text{$x \in E_n$ for all but finitely many $n$} \\
      &\iff \text{$x \in E_n^c$ for only finitely many $n$}.
    \end{split}
  \end{equation*}
  Hence
  \begin{equation*}
    \begin{split}
      x \in \left( \varliminf_n E_n \right)^c &\iff \text{$x \in E_n^c$ for infinitely many $n$} \\
      &\iff x \in \varlimsup_n E_n^c,
    \end{split}
  \end{equation*}
  proving the first identity.

  Next, let $F_n = E_n^c$ for every $n$. Then
  \begin{equation*}
    \varlimsup_n E_n = \varlimsup_n F_n^c = \left( \varliminf_n F_n \right)^c = \left( \varliminf_n E_n^c \right)^c
  \end{equation*}
  by the first identity, and the second identity follows.
\end{solution}

\subsubsection{1.1.2}
\begin{equation*}
  \varlimsup_n E_n = \bigcap_{k=1}^\infty \bigcup_{n=k}^\infty E_n, \quad \varliminf_n E_n = \bigcup_{k=1}^\infty \bigcap_{n=k}^\infty E_n.
\end{equation*}

\begin{solution}
  Suppose $x \in \varlimsup_n E_n$. Then $x \in E_n$ for infinitely many $n$. It follows that $x \in \bigcup_{n=k}^\infty E_n$ for all $k \in \bb N$, and hence that $x \in \bigcap_{k=1}^\infty \bigcup_{n=k}^\infty E_n$.

  Conversely, assume that $x \in \bigcap_{k=1}^\infty \bigcup_{n=k}^\infty E_n$. Then $x \in \bigcup_{n=k}^\infty E_n$ for all $k \in \bb N$. It follows that $x \in E_n$ for infinitely many $n$, and thus that $x \in \varlimsup_n E_n$. This proves the first identity.

  Next, suppose that $x \in \varliminf_n E_n$. Then $x \in E_n$ for all but finitely many $n$, so there is some $k' \in \bb N$ such that $x \in E_n$ for all $n \ge k'$. It follows that $x \in \bigcap_{n=k'}^\infty E_n$, and hence that $x \in \bigcup_{k=1}^\infty \bigcap_{n=k}^\infty E_n$.

  Conversely, assume that $x \in \bigcup_{k=1}^\infty \bigcap_{n=k}^\infty E_n$. Then $x \in \bigcap_{n=k'}^\infty E_n$ for some $k' \in \bb N$, which means that $x \in E_n$ for all $n \ge k'$. It follows that $x \in E_n$ for all but finitely many $n$; that is, $x \in \varliminf_n E_n$.
\end{solution}

\subsubsection*{1.1.3}
If $\sc R$ is a $\sigma$-ring and $E_n \in \sc R$, then
\begin{equation*}
  \bigcap_{n=1}^\infty E_n \in \sc R, \quad \varlimsup_n E_n \in \sc R, \quad \varliminf_n E_n \in \sc R.
\end{equation*}

\begin{solution}
  Let $Y = \bigcup_{n=1}^\infty E_n \in \sc R$. Then $E_n \subset Y$ for all $Y$, and it follows that
  \begin{equation*}
    \bigcap_{n=1}^\infty E_n = Y \cap \left( \bigcap_{n=1}^\infty E_n \right) = Y - \left( Y - \bigcap_{n=1}^\infty E_n \right).
  \end{equation*}
  Notice that
  \begin{equation*}
    Y - \bigcap_{n=1}^\infty E_n = \bigcup_{n=1}^\infty (Y - E_n) \in \sc R,
  \end{equation*}
  by properties (b) and (e). (The equality is analogous to the identity (1.1.2), but with $Y$ in place of $X$.) It follows (by (b) again) that $\bigcap_{n=1}^\infty E_n \in \sc R$. For later reference, let us call this result (x).

  Given $k \in \bb N$, let $A_n = \varnothing$ for $n < k$, and let $A_n = E_n$ for $n \ge k$. Then $A_n \in \sc R$ for all $n$ by (a), hence
  \begin{equation*}
    \bigcup_{n=k}^\infty E_n = \bigcup_{n=1}^\infty A_n \in \sc R
  \end{equation*}
  by (e). It then follows by (x) that
  \begin{equation*}
    \varlimsup_n E_n = \bigcap_{k=1}^\infty \bigcup_{n=k}^\infty E_n \in \sc R.
  \end{equation*}

  By a similar argument we find that (x) implies
  \begin{equation*}
    \bigcap_{n=k}^\infty E_n \in \sc R
  \end{equation*}
  for all $k \in \bb N$. Thus
  \begin{equation*}
    \varliminf_n E_n = \bigcup_{k=1}^\infty \bigcap_{n=k}^\infty E_n \in \sc R
  \end{equation*}
  by (e).
\end{solution}

\subsubsection*{1.1.4}
The intersection of any collection of rings (algebras, $\sigma$-rings, or $\sigma$-algebras) is also a ring (an algebra, $\sigma$-ring, or $\sigma$-algebra).

\begin{solution}
  Let $\sc C$ be a collection of classes. Let $\bigcap \sc C$ denote the intersection of all classes in $\sc C$. We will show that if one of the properties (a)-(e) is satisfied by all classes in $\sc C$, then $\bigcap \sc C$ satisfies that property as well. The result requested in the problem then follows as an immediate corollary.

  It is clear that if every $\sc R \in \sc C$ satisfies (a), then so does $\bigcap \sc C$. Suppose every $\sc R \in \sc C$ satisfies (b). If $A,B \in \bigcap \sc C$ then $A,B \in \sc R$ for every $\sc R \in \sc C$. Hence $A - B \in \sc R$ for all $\sc R \in \sc C$, and it follows that $A - B \in \bigcap \sc C$. The argument for (c) is similar (with $A \cup B$ in place of $A - B$), and (d) is obvious.

  Finally, suppose that every $\sc R \in \sc C$ satisfies (e). If $A_1, A_2, \dotsc \in \bigcap \sc C$ then $A_1, A_2, \dotsc \in \sc R$ for every $\sc R \in \sc C$. Hence $\bigcup_{n=1}^\infty A_n \in \sc R$ for all $\sc R \in \sc C$, and it follows that $\bigcup_{n=1}^\infty A_n \in \bigcap \sc C$.
\end{solution}

\subsubsection*{1.1.5}
If $\sc D$ is any class of sets, then there exists a unique ring $\sc R_0$ such that (i) $\sc R_0 \supset \sc D$, and (ii) any ring $\sc R$ containing $\sc D$ contains also $\sc R_0$. $\sc R_0$ is called the \emph{ring generated} by $\sc D$, and is denoted by $\sc R(\sc D)$.

\begin{solution}
  Let $\sc R_0$ be the intersection of all rings containing $\sc D$. This is a ring by the previous exercise, and it satisfies the properties (i) and (ii). To see that it is unique, let $\sc R_0'$ also by a ring satisfying (i) and (ii). Then $\sc R_0 \subset \sc R_0'$ and $\sc R_0' \subset \sc R_0$ by property (ii), so $\sc R_0 = \sc R_0'$.
\end{solution}

\subsubsection*{1.1.6}
If $\sc D$ is any class of sets, then there exists a unique $\sigma$-ring $\sc S_0$ such that (i) $\sc S_0 \supset \sc D$, and (ii) any $\sigma$-ring containing $\sc D$ contains also $\sc S_0$. We call $\sc S_0$ the \emph{$\sigma$-ring generated} by $\sc D$, and denote it by $\sc S(\sc D)$. A similar result holds for $\sigma$-algebras, and we speak of the \emph{$\sigma$-algebra generated} by $\sc D$.

\begin{solution}
  By the same argument as in the previous exercise, $\sc S_0$ is the intersection of all $\sigma$-rings containing $\sc D$. Similarly the $\sigma$-algebra generated by $\sc D$ is the intersection of all $\sigma$-algebras containing $\sc D$.
\end{solution}

\subsubsection*{1.1.7}
If $\sc D$ is any class of sets, then every set in $\sc R(\sc D)$ can be covered by (that is, is contained in) a finite union of sets of $\sc D$. [Hint: The class $\sc K$ of sets that can be covered by finite unions of sets of $\sc D$ forms a ring.]

\begin{solution}
  Let $\sc K$ be the class of all sets that can be covered by a finite union of sets in $\sc D$. Certainly $\varnothing \in \sc K$, since $\varnothing$ is a subset of the empty union. If $A, B \in \sc K$, then
  \begin{equation*}
    A \subset \bigcup_{i=1}^m E_i, \quad B \subset \bigcup_{i=1}^n F_i,
  \end{equation*}
  for some sets $E_1, \dots, E_m, F_1, \dots, F_n \in \sc D$. (Note that $m$ or $n$ can be zero, in which case the corresponding union is empty.) Thus
  \begin{equation*}
    A - B \subset A \subset \bigcup_{i=1}^m E_i
  \end{equation*}
  and
  \begin{equation*}
    A \cup B \subset \left( \bigcup_{i=1}^m E_i \right) \cup \left( \bigcup_{j=1}^n F_j \right),
  \end{equation*}
  so both $A - B$ and $A \cup B$ are elements of $\sc K$.

  The above shows that $\sc K$ is a ring, and certainly $\sc D \subset \sc K$. Hence $\sc R(\sc D) \subset \sc K$ by Problem 1.1.5, and it follows that every set in $\sc R(\sc D)$ can be covered by a finite union of sets in $\sc D$.
\end{solution}

\section*{Section 1.1 -- Definition of measure}

\subsection*{Problems}

\subsubsection*{1.2.1}
If $\mu$ satisfies the properties (i)-(iii) in Definition 1.2.1, and if $\mu(E) < \infty$ for at least one set $E$, then (iv) is also satisfied.

\begin{solution}
  We have
  \begin{equation*}
    \mu(E) = \mu(E \cup \varnothing) = \mu(E) + \mu(\varnothing),
  \end{equation*}
  hence $\mu(\varnothing) = 0$.
\end{solution}

\subsubsection*{1.2.2}
Let $X$ be an infinite space. Let $\cal A$ be the class of all subsets of $X$. Define $\mu(E) = 0$ if $E$ is finite and $\mu(E) = \infty$ if $E$ is infinite. Then $\mu$ is finitely additive but not completely additive.

\begin{solution}
  Suppose $A, B \in \cal A$. Note that $A \cup B$ is finite if both $A$ and $B$ are finite, but infinite otherwise. Hence
  \begin{equation*}
    \mu(A \cup B) = 0 = \mu(A) + \mu(B)
  \end{equation*}
  in the former case, and
  \begin{equation*}
    \mu(A \cup B) = \infty = \mu(A) + \mu(B)
  \end{equation*}
  in the latter. This proves that $\mu$ is additive; \emph{finite} additivity follows by a simple induction argument.

  Let $(x_n)$ be a sequence of distinct points in $X$. Then $\bigcup_{n=1}^\infty \{x_n\}$ is an infinite set, so
  \begin{equation*}
    \mu \left( \bigcup_{n=1}^\infty \{x_n\} \right) = \infty,
  \end{equation*}
  but
  \begin{equation*}
    \sum_{n=1}^\infty \mu(\{x_n\}) = 0.
  \end{equation*}
  Thus $\mu$ is not completely additive.
\end{solution}

\subsubsection*{1.2.3}
If $\mu$ is a measure on a $\sigma$-algebra $\cal A$, and if $E$, $F$ are sets of $\cal A$, then
\begin{equation*}
  \mu(E) + \mu(F) = \mu(E \cup F) + \mu(E \cap F).
\end{equation*}

\begin{solution}
  If $\mu(F) = \infty$, then $\mu(E \cup F) = \infty$ by Theorem 1.2.1(i), and the given equality holds. If $\mu(F) < \infty$, then
  \begin{equation*}
    \begin{split}
      \mu(E \cup F) &= \mu[E \cup (F - (E \cap F))] \\
      &= \mu(E) + \mu[F - (E \cap F)] \\
      &= \mu(E) + \mu(F) - \mu(E \cap F),
    \end{split}
  \end{equation*}
  with the last equality following from Theorem 1.2.1(ii). Note that $E \cap F \subset F$ so that $\mu(E \cap F) \le \mu(F) < \infty$. Hence we can rearrange the above to yield
  \begin{equation*}
    \mu(E) + \mu(F) = \mu(E \cup F) + \mu(E \cap F).
  \end{equation*}
\end{solution}

\subsubsection*{1.2.6}
Give an example of a measure $\mu$ and a monotone-decreasing sequence $\{E_n\}$ of $\cal A$ such that $\mu(E_n) = \infty$ for all $n$, and $\mu(\lim_n E_n) = 0$.

\begin{solution}
  Let $X = \bb R$ and let $\cal A = \cal P(\bb R)$ (the power set of $\bb R$; this is easily seen to be a $\sigma$-algebra). Define $\mu: \cal A \to [0,\infty]$ such that $\mu(E)$ is the number of points in $E$ (with $\mu(E) = \infty$ if $E$ is infinite). This is easily seen to be a measure.

  For each $n \in \bb N$, let $E_n = (0, 1/n)$. Then $(E_n)$ is a monotone decreasing sequence of sets in $\cal A$, $\mu(E_n) = \infty$ for all $n$, and
  \begin{equation*}
    \mu \left( \lim_n E_n \right) = \mu \left( \bigcap_{n=1}^\infty E_n \right) = \mu(\varnothing) = 0.
  \end{equation*}
\end{solution}

\section*{Section 1.3 -- Outer measure}

\subsection*{Problems}

\subsubsection*{1.3.1}
Define $\mu^*(E)$ as the number of points in $E$ if $E$ is finite and $\mu^*(E) = \infty$ if $E$ is infinite. Show that $\mu^*$ is an outer measure. Determine the measurable sets.

\begin{solution}
  Of the properties listed in Definition 1.3.1, only countable subadditivity is non-obvious for $\mu^*$. But let us start with proving finite subadditivity.

  Let $A$ and $B$ be sets. If either is infinite, then so is $A \cup B$, hence
  \begin{equation*}
    \mu^*(A \cup B) = \infty = \mu(A) + \mu(B).
  \end{equation*}
  If both $A$ and $B$ are finite sets, then
  \begin{equation*}
    \mu^*(A \cup B) = \mu^*(A) + \mu^*(B - A) \le \mu(A) + \mu(B)
  \end{equation*}
  by basic set-theoretic considerations. Thus $\mu^*$ is subadditive, and finite subadditivity follows by induction on the number of sets in the union.

  Now, let $(E_n)$ be a sequence of sets. If infinitely many of the sets $E_n$ are nonempty, then $\sum_n \mu^*(E_n) = \infty$, and
  \begin{equation*}
    \mu^*\left( \bigcup_n E_n \right) \le \sum_n \mu^*(E_n)
  \end{equation*}
  follows. If only finitely many of the sets $E_n$ are nonempty, let $E_{n_1}, E_{n_2}, \dots, E_{n_k}$ be those sets. Then
  \begin{equation*}
    \mu^*\left( \bigcup_{n=1}^\infty E_n \right) = \mu^*\left( \bigcup_{i=1}^k E_{n_i} \right) \le \sum_{i=1}^k \mu^*(E_{n_i}) = \sum_{n=1}^\infty \mu^*(E_n),
  \end{equation*}
  by finite subadditivity. This proves that $\mu^*$ is countably subadditive, and hence that $\mu^*$ is an outer measure.

  Note that $\mu^*$ is \emph{additive} on disjoint sets; if $A \cup B = \varnothing$, then $\mu^*(A \cup B) = \mu^*(A) + \mu^*(B)$. In particular,
  \begin{equation*}
    \mu^*(A) = \mu^*(A \cap E) + \mu^*(A - E)
  \end{equation*}
  for all sets $A, E$. That is, all sets (really subsets of $X$) are measurable.
\end{solution}

\subsubsection*{1.3.2}
Define $\mu^*(\varnothing) = 0$, $\mu^*(E) = 1$ if $E \ne \varnothing$. Show that $\mu^*$ is an outer measure, and determine the measurable sets.

\begin{solution}
  As in the previous excercise, the only slightly non-obvious property is countable subadditivity. Hence, let $(E_n)$ be a sequence of sets. If all the sets $E_n$ are empty, then certainly
  \begin{equation*}
    \mu^* \left( \bigcup_n E_n \right) = 0 = \sum_{n} \mu^*(E_n).
  \end{equation*}
  If not, then there is some $m$ such that $E_m \ne \varnothing$, and it follows that
  \begin{equation*}
    \mu^* \left( \bigcup_n E_n \right) = 1 = \mu^*(E_m) \le \sum_n \mu^*(E_n).
  \end{equation*}
  Thus $\mu^*$ is indeed countably subadditive, and therefore also an outer measure.

  The empty set is measurable:
  \begin{equation*}
    \mu^*(A \cap \varnothing) + \mu^*(A - \varnothing) = \mu^*(\varnothing) + \mu^*(A) = \mu^*(A)
  \end{equation*}
  for all sets $A$. It follows by Theorem 1.3.1 that $X = \varnothing^c$ is measurable as well (the measurable sets make up a $\sigma$-algebra, and algebras are closed under conjugation). Indeed $\varnothing$ and $X$ are the only measurable sets. To see this, let $E$ be any set other than those two. Then both $E$ and $E^c$ are nonempty, so
  \begin{equation*}
    \mu^*(X \cap E) + \mu^*(X - E) = \mu^*(E) + \mu^*(E^c) = 2 > 1 = \mu^*(X).
  \end{equation*}
\end{solution}

\end{document}
